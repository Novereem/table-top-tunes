@using TTTFrontend.Services
@inject AuthenticationService AuthService

<div class="d-flex justify-content-between align-items-center border-bottom" style="height: 10vh">
    <h3 class="fs-1 fw-semibold m-0">NavBar</h3>

    <div class="custom-dropdown me-3 position-relative" @onclick="ToggleDropdown">
        <button class="btn btn-outline-dark" dropdown-toggle" type="button" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false" style="outline: none; box-shadow: none;">
            Settings
        </button>

        @if (showDropdown)
        {
            <div class="dropdown-menu show position-absolute end-0 mt-2">
                <a class="dropdown-item" href="/profile">Profile</a>
                <button class="dropdown-item" @onclick="Logout">Logout</button>
            </div>
        }
    </div>
</div>

<style>
    .custom-dropdown .dropdown-menu {
        display: block;
        background-color: white;
        border: 1px solid #ddd;
        min-width: 150px;
        box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.1);
    }
</style>

@code {
    private bool showDropdown = false;

    private void ToggleDropdown()
    {
        showDropdown = !showDropdown;
    }

    private void Logout()
    {
        showDropdown = false;
        AuthService.Logout();
    }
}